  

  

### _==**Vulnerability Scanning**==_

  

- ==Banner Grabbing==

> Information gathering technique used by pentration testers ==to Enum information regarding the target OS== as well as ==the services that are running on it’s open ports== .

  

- Banner Grabbing
    
    - `service postgresel start` && `msfconsole` && `workspace -a banner`
    - `nmap -sS -sV -O <target ip >` ⇒ to scan for services on open ports
    
    > Or use th msfconsole version
    
    - `db_nmap -sS -sV -O <target ip >` ⇒ to scan for services on open ports
    
    > Take notes about the open ports , the version of services running and all thing .
    
    - `namp -sV - -script=banner <target ip>` ⇒ used banner script to enum info about the services
    - we can use netcat to grep th banner info of the port (service) ⇒ `nc <target ip> <port >`
    
    > Now after we detect the banner of the service , so now we have the services runningo nthe port and the version of it
    
    - `searchsploit <services> <version>` ⇒ ==**_to search on metasploit database of exploit related to this services_**==
    - ==_try to search about any banner related to the service u found_==
    

  

- ==_Vulnerability Scanning With Nmap Scripts_==

> -sC || - -script

> The scripts written with Lua programming Lang

- _Vulnerability Scanning With Nmap Scripts_
    
    - `nmap -sV -O <target ip >` ⇒ To scan for open ports and scan for the services running on the open ports .
    - Identify what services running on the open ports and take notes for that .
    
    > ==let’s assume that we detect a port 80 open , and the service that running is Apache==
    
    - `ls -al /usr/share/nmap/scripts` ⇒ to list all nmap scripts
    
    > After u list all nmap script grep the script related to your protocol
    
    - `nmap -sV -p 80 - -script=http_enum <target ip>` ⇒ to Enum the web site and gathering as u can possible information
    - `nmap -sV -p 80 - -script=http-shellshock <target ip>` ⇒ to check if the target vuln to shellshock
    
    > shellshock related to exploit the apache which is have a script that running a ==_CGI Script_==
    
    - `nmap -sV -p 80 - -script=http-shellshock --script-args "http-shellshock.uri=/<`==`the path of the CGI Script`==`> <target ip>` ⇒ to exploit shellshock ( to see if it Vulnerable (Exploitable) )
    
      
    
      
    

  

- ==_Vulnerability Scanning With Metasploit_==

  

- _Vulnerability Scanning With Metasploit_
    
    - `nmap -sS -sV -O <target ip>` ⇒ to scan for open ports and what services running on it
    - `searchsploit <service name >` ⇒ to search on msfconsole to a and exploit related to this services
    
    > ==_we want to search for the result that have a Metasploit word in the description ._==
    
    - ==service Postgresql start && msfconsole && search for this exploit and exploit it==
    

  

  

### _==**Searching For Exploits**==_

  

- _==Searching For Publicly Available Exploits==_

> After identifying a potential vuln within a target or a service running on a a target or a service running on a target , now the next step will be a search for exploit related to this vuln and exploit it .

- Resources to search on it ( try it is so so so so so easy )
    
    - Exploit-db
    - Rapid7
    - Packet Storm
    
      
    

  

- **_==Searching For Exploits With SearchSploit==_**

> `sudo apt-get install exploitdb -y`

> `ls -al /usr/share/exploitdb` ⇒ to list the contants of exploit data base file

- _Searching For Exploits With SearchSploit_
    
    - `is -al /usr/share/exploitdb/exploits/windows/remote/` ⇒ u can see all exploit displayed
    - `searchsploit <services > <services version>` ⇒ to search about services and the version of it
    - `searchsploit -m <id of the script or exploit u want to download >` ⇒ That will display the path of this script or exploit , And will copy it to our directory
    - `searchsploit -C <services >` ⇒ to search with case sensitive
    - `searchsploit -t <services >` ⇒ that will search with all exploit that have the <service> on title
    - `searchsploit -e “<services>”` ⇒ to search as identical service name
    - `searchsploit remote windows smb` ⇒ to search by filter the type ⇒ remote , platform ⇒ windows , services ⇒ smb
    - `searchsploit remote webapp wordpress` ⇒ to search by filter the type ⇒ remote , platform ⇒ webapp , services ⇒ wordpress
    - `searchsploit remote webapp -w wordpress` ⇒ that will display the link related to the exploit online
    
      
    

  

  

### _==**Fixing Exploits**==_

  

- _==**Fixing Exploits**==_

  

- _Fixing Exploits_
    
    - `==nmap -sS -sV -O <target ip>==` ⇒ to scan for open ports and scan for services running on the open ports
    
    > After identify the open ports and what the services that running on this pots , let’s search with searchsploit about any vuln related to this service and the version of it
    
    - `searchsploit <service > <services version >` ⇒ to search about a local exploit
    - `searchsploit -m <id of the exploit >` ⇒ to copy it to our local dir >
    - ==_Read the exploit very well to understand who it’s may work_==
    - `nc -nvlp <port we put>` ⇒ to open a netcat on specific port
    
      
    
      
    
      
    

  

- ==_Cross-Compiling Exploits_==

> in certain cases , exploit code will be developed in C/C++/C# , as a result you will need to compile the exploit code to a PE (portable executable) of binary .

> Cross-Compiling ⇒ _is the Process of compiling code for a platform other than the one performing the compilation ._

> It’s like the process of compiling a windows exploit on Linux env

- _Cross-Compiling Exploits_
    
    - `sudo apt-get install mingw-w64`
    - `sudo apt-get install gcc`
    - `searchsploit < exploit we want>`
    - `searchsploit -m <exploit id >`
    - navigate the exploit
    - `i686-w64-mingw32-gcc <exploit file > -o exploit` ⇒ to change it to 64 bit if we got not error that will compilation the C code to a portables file we can execute it when just click on it .
    - `i686-w64-mingw32-gcc <exploit file > -o exploit -lws2_32` ⇒ same as 64 but that to change it to 32 bit
    - to compilation on Linux ⇒ gcc